{"version":3,"file":"Datas.js","sourceRoot":"","sources":["../../src/data/Datas.ts"],"names":[],"mappings":"AAEA,OAAO,EAAE,SAAS,EAAE,MAAM,aAAa,CAAC;AAExC,MAAM,GAAG,GACP,CAA8B,GAAiC,EAAE,EAAE,CACnE,KAAK,EACH,IAAsD,EACtD,EAAE;IACF,OAAO,GAAG,CAAC,OAAO,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,OAAO,EAAE,EAAE,IAAI,EAAE,EAAE,CAE5D,CAAC;AACJ,CAAC,CAAC;AAEJ,MAAM,OAAO,GACX,CAA8B,GAAiC,EAAE,EAAE,CACnE,KAAK,EACH,IAA0D,EAC1D,EAAE;IACF,OAAO,GAAG,CAAC,OAAO,CAAC;QACjB,OAAO,EAAE,cAAc;QACvB,OAAO,EAAE,EAAE,IAAI,EAAE;KAClB,CAAiB,CAAC;AACrB,CAAC,CAAC;AAEJ,MAAM,GAAG,GACP,CAA8B,GAAiC,EAAE,EAAE,CACnE,KAAK,EAAE,IAAsD,EAAE,EAAE;IAC/D,OAAO,GAAG,CAAC,OAAO,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,OAAO,EAAE,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;AACjE,CAAC,CAAC;AAEJ,MAAM,MAAM,GACV,CAA8B,GAAiC,EAAE,EAAE,CACnE,KAAK,EAAE,IAAyD,EAAE,EAAE;IAClE,OAAO,GAAG,CAAC,OAAO,CAAC,EAAE,OAAO,EAAE,aAAa,EAAE,OAAO,EAAE,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;AACpE,CAAC,CAAC;AAEJ,MAAM,MAAM,GACV,CAA8B,GAAiC,EAAE,EAAE,CACnE,KAAK,EAAE,IAAyD,EAAE,EAAE;IAClE,OAAO,GAAG,CAAC,OAAO,CAAC,EAAE,OAAO,EAAE,aAAa,EAAE,OAAO,EAAE,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;AACpE,CAAC,CAAC;AAEJ,MAAM,CAAC,MAAM,KAAK,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,OAAO,EAAE,MAAM,EAAE,MAAM,EAAE,SAAS,EAAE,CAAC","sourcesContent":["import type { MessageConnectionInstance } from \"@mjt-engine/message/dist/createConnection\";\nimport type { DataConnectionMap } from \"../DataConnectionMap\";\nimport { putEntity } from \"./putEntity\";\n\nconst get =\n  <M extends DataConnectionMap>(con: MessageConnectionInstance<M>) =>\n  async <T = unknown>(\n    body: DataConnectionMap[\"data.get\"][\"request\"][\"body\"]\n  ) => {\n    return con.request({ subject: \"data.get\", request: { body } }) as Promise<\n      T | undefined\n    >;\n  };\n\nconst getMany =\n  <M extends DataConnectionMap>(con: MessageConnectionInstance<M>) =>\n  async <T = unknown>(\n    body: DataConnectionMap[\"data.getMany\"][\"request\"][\"body\"]\n  ) => {\n    return con.request({\n      subject: \"data.getMany\",\n      request: { body },\n    }) as Promise<T[]>;\n  };\n\nconst put =\n  <M extends DataConnectionMap>(con: MessageConnectionInstance<M>) =>\n  async (body: DataConnectionMap[\"data.put\"][\"request\"][\"body\"]) => {\n    return con.publish({ subject: \"data.put\", request: { body } });\n  };\n\nconst search =\n  <M extends DataConnectionMap>(con: MessageConnectionInstance<M>) =>\n  async (body: DataConnectionMap[\"data.search\"][\"request\"][\"body\"]) => {\n    return con.request({ subject: \"data.search\", request: { body } });\n  };\n\nconst remove =\n  <M extends DataConnectionMap>(con: MessageConnectionInstance<M>) =>\n  async (body: DataConnectionMap[\"data.remove\"][\"request\"][\"body\"]) => {\n    return con.request({ subject: \"data.remove\", request: { body } });\n  };\n\nexport const Datas = { put, get, getMany, search, remove, putEntity };\n"]}