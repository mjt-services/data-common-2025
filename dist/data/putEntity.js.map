{"version":3,"file":"putEntity.js","sourceRoot":"","sources":["../../src/data/putEntity.ts"],"names":[],"mappings":"AAEA,OAAO,EAAE,KAAK,EAAE,MAAM,SAAS,CAAC;AAChC,OAAO,EAAE,GAAG,EAAE,MAAM,WAAW,CAAC;AAGhC,MAAM,CAAC,MAAM,SAAS,GACpB,CAA8B,GAAiC,EAAE,EAAE,CACnE,CAAmB,KAAqB,EAAE,EAAE,CAC5C,KAAK,EAAE,KAAiB,EAAE,EAAE;IAC1B,MAAM,EAAE,EAAE,GAAG,GAAG,CAAC,eAAe,CAAC,KAAK,CAAC,EAAE,GAAG,IAAI,EAAE,GAAG,KAAK,CAAC;IAC3D,OAAO,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACpB,KAAK,EAAE;YACL,EAAE;YACF,GAAG,IAAI;SACM;KAChB,CAAC,CAAC;AACL,CAAC,CAAC","sourcesContent":["import type { MessageConnectionInstance } from \"@mjt-engine/message/dist/createConnection\";\nimport type { DataConnectionMap, ObjectStore } from \"../DataConnectionMap\";\nimport { Datas } from \"./Datas\";\nimport { Ids } from \"../id/Ids\";\nimport type { Entity } from \"../type/Entity\";\n\nexport const putEntity =\n  <C extends DataConnectionMap>(con: MessageConnectionInstance<C>) =>\n  <T extends Entity>(store: ObjectStore<T>) =>\n  async (draft: Partial<T>) => {\n    const { id = Ids.fromObjectStore(store), ...rest } = draft;\n    return Datas.put(con)({\n      value: {\n        id,\n        ...rest,\n      } as Partial<T>,\n    });\n  };\n"]}