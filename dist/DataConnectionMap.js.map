{"version":3,"file":"DataConnectionMap.js","sourceRoot":"","sources":["../src/DataConnectionMap.ts"],"names":[],"mappings":"","sourcesContent":["export type ObjectStore<T = unknown> = {\n  namespace?: string;\n  store: string;\n};\n\nexport type DataQuery = {\n  query?: string; // JMESPath query\n  to?: ObjectStore; // optional object type of result (query MUST return an array of IDs)\n  next?: DataQuery; // optional next query to chain from the result of this query\n};\n\nexport type FromObjectStoreDataQuery = DataQuery & {\n  from: ObjectStore | ObjectStore[];\n};\n\nexport type FromUnknownDataQuery = DataQuery & {\n  from: unknown;\n};\n\nexport type DataConnectionMap<T = unknown> = {\n  \"data.put\": {\n    request: {\n      options?: Partial<{}>;\n      body: {\n        objectStore?: ObjectStore<T>;\n        key?: string;\n        value: T;\n      };\n    };\n    response: string;\n    headers: {\n      url?: string;\n      authToken?: string;\n    };\n  };\n  \"data.get\": {\n    request: {\n      options?: Partial<{}>;\n      body: {\n        objectStore?: ObjectStore<T>;\n        key: string;\n      };\n    };\n    response: T | undefined;\n    headers: {\n      url?: string;\n      authToken?: string;\n    };\n  };\n  \"data.getMany\": {\n    request: {\n      options?: Partial<{}>;\n      body: {\n        objectStore?: ObjectStore<T>;\n        keys: string[];\n      };\n    };\n    response: T[] | undefined;\n    headers: {\n      url?: string;\n      authToken?: string;\n    };\n  };\n  \"data.search\": {\n    request: {\n      options?: Partial<{}>;\n      body: FromObjectStoreDataQuery;\n    };\n    response: unknown;\n    headers: {\n      url?: string;\n      authToken?: string;\n    };\n  };\n  \"data.remove\": {\n    request: {\n      options?: Partial<{}>;\n      body: {\n        objectStore?: ObjectStore<T>;\n        query: string | string[] | FromObjectStoreDataQuery;\n      };\n    };\n    response: { success: boolean };\n    headers: {\n      url?: string;\n      authToken?: string;\n    };\n  };\n\n  \"vector.createCollection\": {\n    request: {\n      options?: Partial<{}>;\n      body: {\n        size: number;\n        distance: \"Dot\" | \"Cosine\" | \"Euclidean\" | \"Manhattan\";\n        dataType: \"float32\" | \"float16\" | \"uint8\";\n        on_disk: boolean;\n      };\n    };\n    response: { success: boolean };\n    headers: {\n      url?: string;\n      authToken?: string;\n    };\n  };\n  \"vector.put\": {\n    request: {\n      options?: Partial<{}>;\n      body: {\n        point: Point | Point[];\n      };\n    };\n    response: { success: boolean };\n    headers: {\n      url?: string;\n      authToken?: string;\n    };\n  };\n  \"vector.delete\": {\n    request: {\n      options?: Partial<{}>;\n      body: {\n        point?: (string | number)[];\n        filter?: unknown;\n      };\n    };\n    response: { success: boolean };\n    headers: {\n      url?: string;\n      authToken?: string;\n    };\n  };\n  \"vector.search\": {\n    request: {\n      options?: Partial<{}>;\n      body: {\n        query: number[];\n        filter?: unknown;\n        limit?: number;\n        scoreThreshold?: number;\n      };\n    };\n    response: {\n      result: { id: number | string; score: number; payload: Payload }[];\n      time: number;\n      status: string;\n    }[];\n    headers: {\n      url?: string;\n      authToken?: string;\n    };\n  };\n};\n\nexport type Point = {\n  id: number | string; // UUID or unsigned int\n  vector: number[];\n  payload: unknown;\n};\n\nexport type Payload = {\n  contentId: string;\n  roomId?: string;\n  assistantId?: string;\n  userId?: string;\n  start: number;\n  end: number;\n  timestamp: number;\n  geo?: {\n    lat: number;\n    lon: number;\n  };\n};\n"]}